<!DOCTYPE html>
<html>
<head lang="en">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>解析JSON无格式字符串</title>
    <script src="../plugin/jquery/dist/jquery.js"></script>
</head>
<body>
<div>
    <textarea class="json-string-textarea" rows="30" style="width: 100%;background-color: ghostwhite" placeholder="请输入要解析的字符串"></textarea>
    <button class="btn" onclick="parse();">解析</button>
    <span>PS:可以解析一部分，足够页面显示，然后滚动后继续获取内容，即分页获取（但我没有实现）</span>
</div>
<script>

    var parse = function(){
        $.ajax({
//                async:false,
            timeout : 60000, //超时时间设置，单位毫秒
            type : "POST", // 请求方式
//                contentType:"text/html;charset=utf-8",
            url : "/restful/api/parseJson", // 请求URL
            data : {jsonString: $('.json-string-textarea').val()},
//            dataType : "json",
            success : function(data) { //成功返回的回调函数，msg是返回的结果
                $('.json-string-textarea').val(data);
            },
            cache : false //设置不用缓存（针对GET提交）
        });
    };

    $(function() {
        $('.json-string-textarea').focus();
    });

</script>
</body>
</html>
